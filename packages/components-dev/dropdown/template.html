<div>
    <br />
    <br />
    <br />

    <span
        kbq-link
        pseudo
        [kbqDropdownTriggerFor]="dropdown"
    >
        Select
    </span>

    <kbq-dropdown #dropdown>
        <ng-template kbqDropdownContent>
            @for (pool of pools; track pool) {
                <button
                    kbq-dropdown-item
                    [kbqDropdownTriggerData]="{ domains: pool.domains }"
                    [kbqDropdownTriggerFor]="domainsDropdown"
                >
                    {{ pool.name }}
                </button>
            }
        </ng-template>
    </kbq-dropdown>

    <kbq-dropdown #domainsDropdown>
        <ng-template
            kbqDropdownContent
            let-domains="domains"
        >
            @for (domain of domains; track domain) {
                <button
                    kbq-dropdown-item
                    (click)="selectDomain(domain.id)"
                >
                    {{ domain.name }}
                </button>
            }
        </ng-template>
    </kbq-dropdown>

    <br />
    <br />
    <br />

    <button
        #dropdownTrigger="kbqDropdownTrigger"
        kbq-button
        [class.kbq-active]="dropdownTrigger.opened"
        [kbqDropdownTriggerFor]="appDropdown"
    >
        dropdown
        <i kbq-icon="kbq-chevron-down-s_16"></i>
    </button>

    <br />
    <br />

    <button
        #dropdownTrigger1="kbqDropdownTrigger"
        kbq-button
        [class.kbq-active]="dropdownTrigger1.opened"
        [kbqDropdownTriggerFor]="appDropdown"
        (dropdownClosed)="dropdownClosed()"
        (dropdownOpened)="dropdownOpened()"
    >
        <i kbq-icon="kbq-info-circle_16"></i>
        <i kbq-icon="kbq-chevron-down-s_16"></i>
    </button>

    <br />
    <br />

    <button
        #dropdownTrigger2="kbqDropdownTrigger"
        kbq-button
        [class.kbq-active]="dropdownTrigger2.opened"
        [color]="colors.Contrast"
        [kbqDropdownTriggerFor]="appDropdown"
        [kbqStyle]="styles.Transparent"
    >
        dropdown
        <i kbq-icon="kbq-chevron-down-s_16"></i>
    </button>

    <br />
    <br />

    <kbq-dropdown
        #appDropdown="kbqDropdown"
        [overlapTriggerX]="false"
        [overlapTriggerY]="true"
    >
        <button kbq-dropdown-item>Text Normal</button>

        <button kbq-dropdown-item>
            <i
                kbq-icon="kbq-info-circle_16"
                [color]="'contrast'"
            ></i>
            Text Normal
        </button>

        <button kbq-dropdown-item>
            Text Normal
            <div class="kbq-dropdown-item__caption">Caption</div>
        </button>

        <button kbq-dropdown-item>
            <i
                kbq-icon="kbq-info-circle_16"
                [color]="'contrast'"
            ></i>
            Text Normal
            <div class="kbq-dropdown-item__caption">Caption</div>
        </button>

        <button kbq-dropdown-item>
            <i
                kbq-icon="kbq-circle-xs_16"
                [color]="'contrast'"
            ></i>
            Text Normal
        </button>

        <button
            kbq-dropdown-item
            kbq-title
        >
            Text Normal and very long text Text Normal and very long text Text Normal and very long text Text Normal and
            very long text
        </button>

        <kbq-divider />

        <div class="kbq-dropdown__group-header">Header</div>

        <button
            disabled
            kbq-dropdown-item
        >
            Disabled
        </button>

        <kbq-divider />

        <div class="kbq-dropdown__group-header kbq-dropdown__group-header_small">Subheading</div>

        <button
            disabled
            kbq-dropdown-item
        >
            Disabled
        </button>

        <kbq-divider />

        <button kbq-dropdown-item>Point 2</button>

        <button kbq-dropdown-item>Point 3</button>

        <button kbq-dropdown-item>Link</button>
    </kbq-dropdown>

    <div>
        <input
            kbqInput
            type="text"
            [(ngModel)]="someValue"
        />
    </div>

    <br />

    <button
        #dropdownTrigger3="kbqDropdownTrigger"
        kbq-button
        [class.kbq-active]="dropdownTrigger3.opened"
        [kbqDropdownTriggerData]="{ someValue: someValue }"
        [kbqDropdownTriggerFor]="appDropdownLazy"
    >
        dropdown lazy
        <i kbq-icon="kbq-chevron-down-s_16"></i>
    </button>

    <kbq-dropdown #appDropdownLazy="kbqDropdown">
        <ng-template
            kbqDropdownContent
            let-someValue="someValue"
        >
            <button kbq-dropdown-item>
                Point 1
                <span class="kbq-dropdown-item__caption">Some info</span>
            </button>
            <button kbq-dropdown-item>Value: {{ someValue }}</button>
        </ng-template>
    </kbq-dropdown>

    <button
        #dropdownTrigger4="kbqDropdownTrigger"
        kbq-button
        [class.kbq-active]="dropdownTrigger4.opened"
        [color]="colors.Contrast"
        [kbqDropdownTriggerFor]="kbqTitleAppDropdown"
        [kbqStyle]="styles.Transparent"
    >
        Dropdown with KbqTitle
        <i kbq-icon="kbq-chevron-down-s_16"></i>
    </button>

    <br />
    <br />

    <kbq-dropdown
        #kbqTitleAppDropdown="kbqDropdown"
        [overlapTriggerX]="false"
        [overlapTriggerY]="true"
    >
        <button kbq-dropdown-item>Text Normal</button>

        <button
            kbq-dropdown-item
            kbq-title
        >
            Text Normal и very very very very very very very very long textText Normal и very very very very very very
            very very long text
        </button>
    </kbq-dropdown>
</div>

<br />
<br />
<br />

<button
    #dropdownTrigger5="kbqDropdownTrigger"
    kbq-button
    [class.kbq-active]="dropdownTrigger5.opened"
    [kbqDropdownTriggerFor]="appDropdownWithNested"
>
    nested dropdown
    <i kbq-icon="kbq-chevron-down-s_16"></i>
</button>

<kbq-dropdown #appDropdownWithNested="kbqDropdown">
    <button
        kbq-dropdown-item
        [kbqDropdownTriggerFor]="appDropdownNested"
    >
        1 level (1)
    </button>
    <button kbq-dropdown-item>1 level (2)</button>
    <button kbq-dropdown-item>1 level (3)</button>
</kbq-dropdown>

<kbq-dropdown #appDropdownNested="kbqDropdown">
    <button
        kbq-dropdown-item
        [kbqDropdownTriggerFor]="appDropdownNestedNested"
    >
        2 level (1)
    </button>
    <button kbq-dropdown-item>2 level (2)</button>
    <button kbq-dropdown-item>2 level (3)</button>
</kbq-dropdown>

<kbq-dropdown #appDropdownNestedNested="kbqDropdown">
    <button kbq-dropdown-item>3 level (1)</button>
    <button kbq-dropdown-item>3 level (2)</button>
    <button kbq-dropdown-item>3 level (3)</button>
</kbq-dropdown>
