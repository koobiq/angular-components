<button
    kbq-button
    (click)="toggleDisabled()"
>
    Toggle Disabled
</button>

<button
    kbq-button
    (click)="startLoading()"
>
    Loading imitation for single and multiple
</button>
<button
    kbq-button
    (click)="startIndeterminateLoading()"
>
    Indeterminate Loading imitation for single and multiple
</button>

<button
    kbq-button
    (click)="checkValidation()"
>
    Call validation from outside
</button>

<br />
<br />

<kbq-radio-group
    class="example-radio-group"
    (change)="setFormat($event)"
>
    @for (language of languageList; track language) {
        <kbq-radio-button
            class="example-radio-button"
            [checked]="language.id === selectedLanguage.id"
            [value]="language"
        >
            {{ language.id }}
        </kbq-radio-button>
    }
    <br />
</kbq-radio-group>

<br />
<br />

<div class="layout-row layout-align-space-between">
    <div>
        <div class="dev-container">
            <div class="kbq-subheading">Single file upload with ControlValueAccessor</div>
            <br />
            <kbq-checkbox
                class="layout-margin-bottom-s"
                [checked]="control.disabled"
                (change)="control.disabled ? control.enable() : control.disable()"
            >
                disabled
            </kbq-checkbox>
            <div class="kbq-caption_mono">file name: {{ control.value?.file?.name }}</div>
            <kbq-file-upload
                class="layout-margin-bottom-s"
                [formControl]="control"
            >
                <i kbq-icon="kbq-file-o_16"></i>
                <kbq-hint>Размер файла не должен быть более 5 МБ</kbq-hint>
                @if (control.hasError('maxFileSize')) {
                    <kbq-hint color="error">Слишком большой размер файла</kbq-hint>
                }
            </kbq-file-upload>

            <kbq-file-upload [formControl]="secondControl">
                <i kbq-icon="kbq-file-o_16"></i>
            </kbq-file-upload>
        </div>

        <div class="dev-container">
            <div class="kbq-subheading">Single file upload with ControlValueAccessor & Form</div>
            <br />
            <span class="kbq-body_mono_strong">Validation after submit</span>
            <form
                [formGroup]="form"
                (ngSubmit)="onSubmit()"
            >
                <kbq-file-upload
                    formControlName="file-upload"
                    class="layout-margin-bottom-s"
                    [disabled]="disabled"
                >
                    <i kbq-icon="kbq-info-circle_16"></i>
                    @if (form.get('file-upload')?.hasError('maxFileSize')) {
                        <kbq-hint color="error">Слишком большой размер файла</kbq-hint>
                    }
                </kbq-file-upload>
                <button
                    kbq-button
                    type="submit"
                    (click)="onSubmit()"
                >
                    Submit
                </button>
            </form>
        </div>

        <div class="dev-container">
            <div class="kbq-subheading">Single file upload</div>
            <br />
            <div class="kbq-body_strong">with validation outside</div>
            <br />
            <kbq-file-upload
                [accept]="accept"
                [disabled]="disabled"
            >
                <i kbq-icon="kbq-info-circle_16"></i>
                <kbq-hint>{{ hintMessage }}</kbq-hint>
            </kbq-file-upload>
        </div>
    </div>

    <div>
        <div class="dev-container">
            <div class="kbq-subheading">Multiple file upload</div>
            <br />
            <kbq-multiple-file-upload
                [disabled]="disabled"
                [errors]="errorMessagesForMultiple"
                [files]="files"
                [progressMode]="'indeterminate'"
                (fileQueueChanged)="addFileMultiple($event)"
            >
                <ng-template #kbqFileIcon>
                    <i kbq-icon="kbq-file-o_16"></i>
                </ng-template>
                <kbq-hint>{{ hintMessage }}</kbq-hint>
            </kbq-multiple-file-upload>
        </div>

        <div
            custom-text
            class="dev-container"
        >
            <div class="kbq-subheading">Multiple file with custom text</div>
            <br />
            <kbq-file-upload
                multiple
                [accept]="accept"
                [disabled]="disabled"
                [errors]="errorMessagesForMultiple"
                [files]="files"
                [progressMode]="'indeterminate'"
                (fileQueueChanged)="addFileMultiple($event)"
            >
                <ng-template #kbqFileIcon>
                    <i kbq-icon="kbq-file-o_16"></i>
                </ng-template>
                <kbq-hint>{{ hintMessage }}</kbq-hint>
            </kbq-file-upload>
        </div>

        <div
            custom-text
            class="dev-container"
        >
            <div class="kbq-subheading">Multiple file with ControlValueAccessor, overall hint error</div>
            <br />
            <kbq-file-upload
                multiple
                [formControl]="multipleFileUploadControl"
                [progressMode]="'indeterminate'"
            >
                <ng-template #kbqFileIcon>
                    <i kbq-icon="kbq-file-o_16"></i>
                </ng-template>
                @if (multipleFileUploadControl.hasError('maxFileSize')) {
                    <kbq-hint color="error">Размер одного из файлов превысил лимит</kbq-hint>
                }
            </kbq-file-upload>
        </div>

        <div class="dev-container">
            <div class="kbq-subheading">Multiple file upload with ControlValueAccessor & Form</div>
            <br />
            <span class="kbq-body_mono_strong">Validation after submit</span>
            <form
                [formGroup]="formMultiple"
                (ngSubmit)="onSubmit()"
            >
                <kbq-file-upload
                    formControlName="file-upload"
                    multiple
                    class="layout-margin-bottom-s"
                    [progressMode]="'indeterminate'"
                >
                    <ng-template #kbqFileIcon>
                        <i kbq-icon="kbq-file-o_16"></i>
                    </ng-template>
                </kbq-file-upload>
                <button
                    kbq-button
                    type="submit"
                    (click)="onSubmit()"
                >
                    Submit
                </button>
            </form>
        </div>

        <div class="dev-container">
            <div class="kbq-subheading">Multiple file upload compact</div>
            <br />
            <file-upload-compact
                [disabled]="disabled"
                [errorMessagesForMultiple]="errorMessagesForMultiple"
                [files]="files"
                (addedFile)="addFileMultiple($event)"
            />
        </div>
    </div>
</div>
