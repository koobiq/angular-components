Позволяет пользователю загрузить файлы в продукт.

<!-- example(file-upload-single-overview) -->

### Когда использовать

Используйте, когда необходимо загрузить один или несколько файлов.

Поле загрузки файлов можно использовать в форме или вне формы как самостоятельный элемент.

### Структура компонента

Загрузка файлов состоит из:

##### Когда файлы не выбраны

-   Зоны, в которую можно перетащить файл(ы) для загрузки
-   Ссылки, с помощью которой можно выбрать файл(ы) для загрузки
-   Текста подсказки (не обязательно)

Если есть ограничения по формату допустимых файлов или по размеру, перечислите их в тексте подсказки.

##### Файлы загружены

-   Иконки [файла](/icons?id=file-o_16)
-   Имени загруженного файла
-   Размер загруженного файла (только при загрузки нескольких файлов)
-   Иконки [удалить](/icons?id=xmark-circle_16)

#### Вариации

##### Загрузка одного файла

<!-- example(file-upload-single-overview) -->

##### Загрузка нескольких файлов

Размер по умолчанию

<!-- example(file-upload-multiple-default-overview) -->

Компактный размер (внешне то же самое, что и загрузка одного файла, отличие только в тексте)

<!-- example(file-upload-multiple-compact-overview) -->

### Описание работы

Файл(ы) можно перетаскивать в обозначенную зону пунктирной линией. Или выбирать через проводник операционной системы на устройстве.

##### Загрузка одного файла

После того как файл выбран, компонент получает заблокированное состояние с индикатором загрузки [спиннер](/components/progress-spinner/overview), до того момента, пока загрузка файла не будет завершена, но при этом остается возможность отменить загрузку путем нажатия на иконку очистить.

Когда файл загружен, компонент получает нормальное состояние, для приложенного файла подставляется иконка, соответствующая типу файла (делается на стороне продукта, техническая возможность в компонент заложена) и подставляется имя файла.

Чтобы приложить другой файл, его можно перетащить в обозначенную зону пунктирной линией.

Если названия файла не влезает полностью, оно в середине обрезается многоточием, а при наведении показывается [тултип](/components/tooltip/overview) с полным названием (это правило действует и для загрузки нескольких файлов)

Стандартный тултип из Koobiq имеет ограничение по ширине в 240px, в данном случае стоит это ограничение не учитывать, чтобы имя файла показывалось в тултипе без переносов. Но ширина тултипа не должна превышать ширину экрана, в таком случае перенос имени файла на другую строку допустим.

##### Загрузка нескольких файлов

После того как файлы выбраны, рядом с ними появляются индикаторы загрузки [спиннеры](/components/progress-spinner/overview), до того момента, пока загрузка файлов не будет завершена.

Когда файлы загружены, рядом с приложенными файлами подставляются иконки, соответствующие типу файлов (делается на стороне продукта, техническая возможность в компонент заложена) и подставляются имена файлов.

Возможность перетаскивать и выбирать файлы остается.

#### Валидация

Если процесс загрузки файлов не завершился, ограничьте возможность отправки формы путем блокирования кнопки отправки.

##### Загрузка одного файла

Текст ошибки выводится под компонентом, с указанием причины ошибки.

Если не удалось загрузить файл по неизвестным причинам, вместо иконки [файла](/icons?id=file-o_16), выводится иконка [ошибки](/icons?id=exclamation-triangle_16)

<!-- example(file-upload-single-error-overview) -->

##### Загрузка нескольких файлов

Текст ошибки выводится под компонентом.

Причины ошибок перечисляются для каждого файла отдельно.

<!-- example(file-upload-multiple-error-overview) -->

#### Фокус и работа с клавиатурой

##### Загрузка одного файла

| <div style="min-width: 180px;">Файл не выбран</div>                                 | Действие                                                                                             |
| ----------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| <span class="hot-key-button">Space</span> \ <span class="hot-key-button">↵</span>   | Если фокус установлен на ссылке загрузке файлов → Открывает диалог выбора файла операционной системы |
| <span class="hot-key-button">Tab</span>                                             | Если фокус установлен на ссылке загрузке файлов → Переход к следующему компоненту в tab sequence     |
| <span class="hot-key-button">Shift</span> + <span class="hot-key-button">Tab</span> | Если фокус установлен на ссылке загрузке файлов → Переход к предыдущему компоненту в tab sequence    |

| <div style="min-width: 180px;">Файл выбран</div>                                                                               | Действие                                                                                          |
| ------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------- |
| <span class="hot-key-button">Space</span> \ <span class="hot-key-button">↵</span> \ <span class="hot-key-button">Delete</span> | Если фокус установлен на иконке удаления файлов → Удаляет выбранный файл                          |
| <span class="hot-key-button">Tab</span>                                                                                        | Если фокус установлен на иконке удаления файлов → Переход к следующему компоненту в tab sequence  |
| <span class="hot-key-button">Shift</span> + <span class="hot-key-button">Tab</span>                                            | Если фокус установлен на иконке удаления файлов → Переход к предыдущему компоненту в tab sequence |

##### Загрузка нескольких файлов

| <div style="min-width: 180px;">Файлы не выбраны</div>                             | Действие                                                                                             |
| --------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| <span class="hot-key-button">Space</span> \ <span class="hot-key-button">↵</span> | Если фокус установлен на ссылке загрузке файлов → Открывает диалог выбора файла операционной системы |

| <div style="min-width: 180px;">Файлы выбраны</div>                                  | Действие                                                                                                                                                             |
| ----------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span class="hot-key-button">Space</span> \ <span class="hot-key-button">↵</span>   | Если фокус установлен на ссылке загрузке файлов → Открывает диалог выбора файла операционной системы                                                                 |
| <span class="hot-key-button">Delete</span>                                          | Если фокус установлен на списке файлов → Удаляет выделенный файл в списке                                                                                            |
| <span class="hot-key-button">Tab</span>                                             | Если фокус установлен на списке файлов → Переход к загрузке файлов. Если фокус установлен на ссылке загрузке файлов → Переход к следующему компоненту в tab sequence |
| <span class="hot-key-button">Shift</span> + <span class="hot-key-button">Tab</span> | Если фокус установлен на списке файлов → Переход к предыдущему компоненту в tab sequence. Если фокус установлен на ссылке загрузке файлов → Переход к списку файлов  |
| <span class="hot-key-button">↑</span> <span class="hot-key-button">↓</span>         | Если фокус установлен на списке файлов → Перемещение между элементами списка выбранных файлов                                                                        |

### Дизайн

#### Размер

##### Загрузка одного файла

Ширину выбирает дизайнер.
Высота фиксированная.

##### Загрузка нескольких файлов

**Файлы не выбраны**

Ширину и высоту выбирает дизайнер.

**Файлы выбраны**

Ширину выбирает дизайнер.
Высота соответствует выбранной, когда файлы не выбраны, после увеличивается в зависимости от количества выбранных файлов.

### Единицы измерения размера файла

Используйте правило из положения о единицах величин, допускаемых к применению в Российской Федерации:

> Наименование и обозначение единицы количества информации "байт" (1 байт = 8 бит)
> применяются с двоичными приставками "Кило", "Мега", "Гига", которые соответствуют
> множителям "2^10", "2^20" и "2^30" (1 Кбайт = 1024 байт, 1 Мбайт = 1024 Кбайт, 1 Гбайт = 1024
> Мбайт).
