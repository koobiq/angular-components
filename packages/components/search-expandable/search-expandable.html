@if (!isOpened) {
    <button
        kbqTooltip="{{ localeData.tooltip }}"
        type="button"
        kbq-button
        class="kbq-search-expandable__button"
        [color]="'contrast'"
        [kbqStyle]="'transparent'"
        (click)="toggle()"
    >
        <i kbq-icon="kbq-magnifying-glass_16"></i>
    </button>
} @else {
    <kbq-form-field class="kbq-search-expandable__search">
        <i kbqPrefix kbq-icon="kbq-magnifying-glass_16"></i>

        <input
            kbqInput
            name="value"
            type="text"
            autocomplete="off"
            [placeholder]="placeholder"
            [ngModel]="value | async"
            (ngModelChange)="value.next($event)"
            (blur)="onTouch()"
            (keyup.escape)="toggle()"
        />

        <i kbqSuffix kbq-icon-button="kbq-circle-xmark_16" (click)="toggle()" (keyup.enter)="toggle()"></i>
    </kbq-form-field>
}
