@if (!isOpened) {
    <button
        type="button"
        kbq-button
        class="kbq-search-expandable__button"
        [color]="'contrast'"
        [kbqStyle]="'transparent'"
        kbqTooltip="{{ localeData.tooltip }}"
        [tabIndex]="tabIndex"
        [disabled]="disabled"
        (click)="toggle()"
    >
        <i kbq-icon="kbq-magnifying-glass_16"></i>
    </button>
} @else {
    <kbq-form-field class="kbq-search-expandable__search">
        <i kbqPrefix kbq-icon="kbq-magnifying-glass_16"></i>

        <input
            kbqInput
            name="value"
            type="text"
            autocomplete="off"
            [tabIndex]="tabIndex"
            [disabled]="disabled"
            [placeholder]="placeholder"
            [formControl]="$any(ngControl?.control)"
            (blur)="onTouch()"
            (keyup.escape)="toggle()"
        />

        <i
            kbqSuffix
            kbq-icon-button="kbq-circle-xmark_16"
            [disabled]="disabled"
            (click)="toggle()"
            (keyup.enter)="toggle()"
        ></i>
    </kbq-form-field>
}
