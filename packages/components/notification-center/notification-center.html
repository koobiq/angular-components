<div class="kbq-notification-center-header">
    <div class="kbq-notification-center-title">
        <div class="kbq-notification-center-title__text">Уведомления</div>
        <button
            #notificationSwitcher
            #dropdownTrigger="kbqDropdownTrigger"
            kbq-button
            class="kbq-notification-center-title__button"
            [kbqDropdownTriggerFor]="notificationSwitcherDropdown"
            [kbqTooltip]="service.silentMode.value ? 'Не беспокоить' : 'Показывать всплывающие уведомления'"
            [kbqTooltipArrow]="false"
            [kbqTooltipOffset]="4"
            [kbqTooltipDisabled]="dropdownTrigger.opened"
            [kbqStyle]="'transparent'"
            [color]="'contrast'"
        >
            <i kbq-icon="{{ service.silentMode.value ? 'kbq-bell-slash_16' : 'kbq-bell_16' }}"></i>
        </button>
    </div>
    <div class="kbq-notification-center-toolbar">
        <button
            kbq-button
            class="kbq-notification-center-toolbar__button"
            [kbqStyle]="'transparent'"
            [color]="'contrast'"
            (click)="service.removeAllNotifications()"
        >
            <i kbq-icon="kbq-trash_16"></i>
        </button>

        <kbq-divider [vertical]="true" />

        <button
            kbq-button
            class="kbq-notification-center-toolbar__button"
            [kbqStyle]="'transparent'"
            [color]="'contrast'"
            (click)="hide(0)"
        >
            <i kbq-icon="kbq-xmark_16"></i>
        </button>
    </div>
</div>

<div class="kbq-notification-center-sub-header">
    <div class="kbq-notification-center-sub-header__date">7 Октября</div>

    <button
        kbq-button
        class="kbq-notification-center-sub-header__button"
        [kbqStyle]="'transparent'"
        [color]="'contrast'"
        (click)="service.removeGroupOfNotifications(this)"
    >
        <i kbq-icon="kbq-trash_16"></i>
    </button>
</div>

<div kbq-scrollbar class="kbq-notification-center-container">
    @for (item of items; track item) {
        <kbq-notification-item [data]="item" />
    }
</div>

<kbq-dropdown #notificationSwitcherDropdown="kbqDropdown">
    <button kbq-dropdown-item (click)="service.setSilentMode(false)">
        <i kbq-icon="{{ !service.silentMode.value ? 'kbq-circle-xs_16' : '' }}" [style.min-width.px]="16"></i>
        Показывать всплывающие уведомления
    </button>
    <button kbq-dropdown-item (click)="service.setSilentMode(true)">
        <i kbq-icon="{{ service.silentMode.value ? 'kbq-circle-xs_16' : '' }}" [style.min-width.px]="16"></i>
        Не беспокоить
    </button>
</kbq-dropdown>
