<div
    #tooltip
    class="kbq-tooltip"
    [class.kbq-tooltip_arrowless]="!arrow"
    [ngClass]="classMap"
    (@state.done)="animationDone($event)"
    (@state.start)="animationStart()"
    [@state]="visibility"
>
    <div class="kbq-tooltip__inner">
        @if (arrow) {
            <div class="kbq-tooltip__arrow"></div>
        }

        @if (header) {
            <div class="kbq-tooltip__header">
                @if (isTemplateRef(header)) {
                    <ng-container
                        [ngTemplateOutlet]="$any(header)"
                        [ngTemplateOutletContext]="context"
                    />
                }
                @if (!isTemplateRef(header)) {
                    <div>{{ header }}</div>
                }
            </div>
        }
        <div class="kbq-tooltip__content">
            @if (isTemplateRef(content)) {
                <ng-container
                    [ngTemplateOutlet]="$any(content)"
                    [ngTemplateOutletContext]="context"
                />
            }
            @if (!isTemplateRef(content)) {
                <div>{{ content }}</div>
            }
        </div>
    </div>
</div>
