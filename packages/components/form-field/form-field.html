@if (hasLabel) {
    <label class="kbq-form-field__label" [attr.for]="control.id">
        <ng-content select="kbq-label" />
    </label>
}

<div #connectionContainer class="kbq-form-field__container" (click)="onContainerClick($event)">
    @if (hasPrefix) {
        <div class="kbq-form-field__prefix">
            <ng-content select="[kbqPrefix]" />
        </div>
    }

    <div class="kbq-form-field__infix">
        <ng-content />
    </div>

    @if (hasSuffix || hasCleaner || hasPasswordToggle || hasStepper) {
        <div class="kbq-form-field__suffix">
            @if (canShowCleaner) {
                <div class="kbq-form-field__cleaner" (click)="clearValue($event)" (keydown.enter)="clearValue($event)">
                    <ng-content select="kbq-cleaner" />
                </div>
            }

            <ng-content select="kbq-password-toggle, kbq-stepper, [kbqSuffix]" />
        </div>
    }
</div>

@if (hasHint || hasPasswordHint || hasError || hasReactivePasswordHint) {
    <div class="kbq-form-field__hint">
        @if (invalid) {
            <ng-content select="kbq-error" />
        }

        <ng-content select="kbq-hint, kbq-password-hint, kbq-reactive-password-hint" />
    </div>
}
