<label class="kbq-toggle-layout" [attr.for]="inputId" [class.left]="labelPosition === 'left'">
    <input
        #input
        role="switch"
        type="checkbox"
        class="kbq-toggle-input cdk-visually-hidden"
        [attr.aria-checked]="getAriaChecked()"
        [attr.aria-label]="ariaLabel || null"
        [attr.aria-labelledby]="ariaLabelledby"
        [attr.name]="name"
        [attr.value]="value"
        [checked]="checked"
        [disabled]="disabled"
        [id]="inputId"
        [indeterminate]="indeterminate"
        [tabIndex]="tabIndex"
        (change)="onChangeEvent($event)"
        (click)="onInputClick($event)"
        (keydown.enter)="input.click()"
    />
    <div class="kbq-toggle-bar-container">
        <div class="kbq-toggle-bar">
            <div class="kbq-toggle__circle" [@switch]="currentCheckState"></div>
            <div class="kbq-toggle__thumb"></div>
        </div>
    </div>

    <div class="kbq-toggle__content" [class.left]="labelPosition === 'left'" [class.right]="labelPosition === 'right'">
        <span class="kbq-toggle-label" (cdkObserveContent)="onLabelTextChange()">
            <ng-content />
        </span>

        <ng-content select="kbq-hint" />
    </div>
</label>
