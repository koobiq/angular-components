Иерархический список (дерево) — древовидный каталог с большим количеством данных.

<!-- example(tree-overview) -->

### Когда использовать

Когда нужно обеспечить пользователю удобную работу с большим количеством данных (сотни элементов). При этом либо пользователь имеет возможность структурировать эти данные в древовидный каталог, либо данные уже приходят к нему в таком виде из системы. Если эти условия не соблюдаются, то лучше использовать [обычный список](/list).

### Структура компонента

-   Название
-   Иконки элемента _(опционально)_
-   Кнопка дополнительных действий над элементом _(опционально)_
-   Кнопки «Развернуть» и «Свернуть»
-   Чекбокс _(опционально)_
-   Поиск по элементам _(опционально)_

<div style="margin-top: 15px;"><img src="./assets/images/tree-select/tree-select__structure.png" alt="tree-select" style="max-width: 531px"/>
</div>

### Описание работы

#### Список с деревом и текстовым поиском по нему

Если введен поисковый запрос — в дереве показываются только элементы:

-   которые соответствуют поисковому запросу;
-   являются родительскими по отношению к найденным в поисковом запросе.

Текст, совпавший с поисковым запросом в названии элемента, выделяется жирным.

<!-- example(tree-filtering) -->

#### Список с деревом и фильтрацией выбранных элементов

<!-- example(tree-checked-filtering) -->

#### Список с деревом и множественным выбором элементов

Может быть одиночный или множественный выбор (ограничивается на уровне дерева).

Элемент можно выбрать, нажав на него (в любую область, кроме иконки «Развернуть» («Свернуть») и кнопки доп. действий). Чтобы выбрать несколько элементов мышью, используются клавиши Ctrl или Shift, чтобы выбрать несколько элементов с клавиатуры — клавиша Space.

Нелистовые элементы можно разворачивать и сворачивать по клику на иконку «стрелка».

<!-- example(tree-multiple-keyboard) -->

Если в древовидном списке включены чекбоксы, то выбор нескольких элементов возможен через клик на чекбокс.

<!-- example(tree-multiple-checkbox) -->

#### Кнопка дополнительных действий

Иногда может присутствовать кнопка дополнительных действий над элементом.

<!-- example(tree-action-button) -->

### Варианты множественного выбора элементов

Есть несколько вариантов множественного выбора элементов. [См. в примерах](/components/tree/examples).

### Фокус и работа с клавиатурой

| Клавиша                                                                                                                                                                          | Действие                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span class="hot-key-button">Tab</span>                                                                                                                                          | Если фокус установлен на предыдущем компоненте в таб-последовательности по отношению к дереву → Переход к первой строке дерева или к выделенной строке<br />Если фокус установлен на любом элементе дерева и у него нет доп. действий → Переход к следующему компоненту в таб-последовательности по отношению к дереву<br />Если фокус установлен на любом элементе дерева и у него есть доп. действия → Переход к первому доп. действию <br />Если фокус установлен на доп. действии элемента → Переход к следующему доп. действию (если оно есть), иначе переход к следующему компоненту в таб-последовательности по отношению к дереву |
| <span class="hot-key-button">Shift</span> + <span class="hot-key-button">Tab</span>                                                                                              | Если фокус установлен на любом элементе дерева → Переход к предыдущему компоненту в таб-последовательности по отношению к дереву <br /> Если фокус установлен на следующем компоненте в таб-последовательности по отношению к дереву → Переход к первой строке дерева или к выделенной строке                                                                                                                                                                                                                                                                                                                                             |
| <span class="hot-key-button">→</span>                                                                                                                                            | Если фокус установлен на нелистовом элементе → Раскрытие вложенных элементов этого элемента <br /> Если фокус установлен на листовом элементе → Ничего не происходит                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span class="hot-key-button">←</span>                                                                                                                                            | Если фокус установлен на нелистовом элементе → Закрытие вложенных элементов этого элемента <br /> Если фокус установлен на листовом элементе → Ничего не происходит                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span class="hot-key-button">↵</span>                                                                                                                                            | Если фокус установлен на элементе дерева → Запуск основного действия этого элемента <br /> Если фокус установлен на элементе дерева с чекбоксом → Ничего не происходит <br /> Если фокус установлен на доп. действии → применение этого доп. действия                                                                                                                                                                                                                                                                                                                                                                                     |
| <span class="hot-key-button">Space</span>                                                                                                                                        | Если фокус установлен на элементе дерева с чекбоксом → Выбрать этот элемент дерева (и все вложенные, если есть) <br /> Если фокус установлен на элементе дерева → Ничего не происходит <br /> Если фокус установлен на доп. действии → применение этого доп. действия                                                                                                                                                                                                                                                                                                                                                                     |
| <span class="hot-key-button">↑</span> <span class="hot-key-button">↓</span>                                                                                                      | Если фокус установлен на элементе дерева → Переход к следующему (если элемент последний — ничего не происходит) / предыдущему элементу дерева (если элемент первый — ничего не происходит)                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span class="hot-key-button">PgUp</span>                                                                                                                                         | Сместить фокус на самый нижний видимый элемент <br /><br /> Если текущий элемент — самый нижний видимый → Пролистать дерево вниз <br /> Если текущий элемент — самый нижний в дереве → Ничего не происходит                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span class="hot-key-button">PgDn</span>                                                                                                                                         | Сместить фокус на самый верхний видимый элемент <br /><br /> Если текущий элемент — самый верхний видимый → Пролистать дерево вверх <br /> Если текущий элемент — самая верхний в дереве → Ничего не происходит                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span class="hot-key-button">Home</span>                                                                                                                                         | Сместить фокус на первый элемент дерева                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span class="hot-key-button">End</span>                                                                                                                                          | Сместить фокус на последний загруженный элемент дерева                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span class="hot-key-button">Ctrl</span> + клик                                                                                                                                  | При клике по элементам дерева — множественный выбор строк <br /> При клике в выбранный элемент — элемент перестает быть выбранным                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span class="hot-key-button">Shift</span> + <span class="hot-key-button">↓</span> <br /><br /> <span class="hot-key-button">Shift</span> + <span class="hot-key-button">↑</span> | Если фокус установлен на элементе дерева → Множественный выбор следующих / предыдущих элементов дерева (если строка первая или последняя — ничего не происходит)                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span class="hot-key-button">Ctrl</span> + <span class="hot-key-button">C</span>                                                                                                 | Если фокус установлен на элементах дерева → Копирование содержимого элементов <br /> По умолчанию копируются названия элементов. Разделитель между элементами — перенос строки                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span class="hot-key-button">Ctrl</span> + <span class="hot-key-button">A</span>                                                                                                 | Если фокус установлен на любом элементе дерева → Выбрать все элементы дерева (включая незагруженные)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
