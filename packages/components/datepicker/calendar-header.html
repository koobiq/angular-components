<div class="kbq-calendar-header__select-group">
    <kbq-select
        #monthSelect="kbqSelect"
        class="kbq-calendar-header__select"
        [panelClass]="'kbq-calendar-select-panel'"
        [value]="selectedMonth"
        (selectionChange)="onMonthSelected($event.value)"
    >
        <button
            kbq-button
            kbq-select-matcher
            class="layout-padding-right-xs"
            [class.kbq-active]="monthSelect.panelOpen"
            [color]="'contrast'"
            [kbqStyle]="'transparent'"
            [tabindex]="-1"
        >
            {{ monthNames[selectedMonth].nameShort | titlecase }}

            <i
                kbq-icon="kbq-chevron-down-s_16"
                class="layout-padding-left-3xs"
                [color]="'contrast'"
            ></i>
        </button>

        @for (month of monthNames; track month) {
            <kbq-option
                [disabled]="month.disabled"
                [kbqTooltipDisabled]="true"
                [value]="month.value"
            >
                {{ month.name }}
            </kbq-option>
        }
    </kbq-select>

    <kbq-select
        #yearSelect="kbqSelect"
        [panelClass]="'kbq-calendar-select-panel'"
        [value]="selectedYear"
        (selectionChange)="onYearSelected($event.value.name)"
    >
        <button
            kbq-button
            kbq-select-matcher
            class="layout-padding-right-xs"
            [class.kbq-active]="yearSelect.panelOpen"
            [color]="'contrast'"
            [kbqStyle]="'transparent'"
            [tabindex]="-1"
        >
            {{ selectedYear.value }}

            <i
                kbq-icon="kbq-chevron-down-s_16"
                class="layout-padding-left-3xs"
            ></i>
        </button>

        @for (year of years; track year) {
            <kbq-option
                [kbqTooltipDisabled]="true"
                [value]="year"
            >
                {{ year.value }}
            </kbq-option>
        }
    </kbq-select>
</div>

<div class="kbq-calendar-header__button-group">
    <button
        kbq-button
        class="kbq-calendar-header__previous-button"
        [color]="'contrast'"
        [disabled]="previousDisabled"
        [kbqStyle]="'transparent'"
        [tabindex]="-1"
        (click)="selectPreviousMonth()"
    >
        <i kbq-icon="kbq-chevron-left_16"></i>
    </button>

    <button
        kbq-button
        [color]="'contrast'"
        [disabled]="currentDisabled"
        [kbqStyle]="'transparent'"
        [tabindex]="-1"
        (click)="selectCurrentDate()"
    >
        <i kbq-icon="kbq-circle-xs_16"></i>
    </button>

    <button
        kbq-button
        class="kbq-calendar-header__next-button"
        [color]="'contrast'"
        [disabled]="nextDisabled"
        [kbqStyle]="'transparent'"
        [tabindex]="-1"
        (click)="selectNextMonth()"
    >
        <i kbq-icon="kbq-chevron-right_16"></i>
    </button>
</div>
