@mixin _inline-edit-theme {
    &:hover {
        cursor: pointer;
        background: var(--kbq-states-background-transparent-hover);
    }

    &:active {
        background: var(--kbq-states-background-transparent-active);
    }

    &.cdk-keyboard-focused {
        $focused-color: var(--kbq-states-line-focus-theme);
        outline: 1px solid $focused-color;
        border-color: $focused-color;
    }
}

.kbq-inline-edit {
    display: flex;
    flex-direction: column;
    justify-content: center;
    border: var(--kbq-size-border-width) solid transparent;
    border-radius: var(--kbq-size-border-radius);
    padding: 0 var(--kbq-inline-edit-padding-horizontal);
    box-sizing: border-box;

    &:focus-visible {
        outline: none;
    }

    &:not(.kbq-inline-edit_with-label) {
        --kbq-inline-edit-padding-horizontal: calc(var(--kbq-size-m) - 1px);

        .kbq-inline-edit__overlay-anchor {
            --kbq-inline-edit-pop-up-height: var(--kbq-size-3xl);
            top: -1px;
            left: calc(-1 * (var(--kbq-inline-edit-padding-horizontal) + 1px));
        }
    }

    &.kbq-inline-edit_with-label {
        padding-top: var(--kbq-inline-edit-padding-vertical);
        padding-bottom: var(--kbq-inline-edit-padding-vertical);
    }

    &.kbq-inline-edit_view {
        min-height: var(--kbq-inline-edit-height);
        @include _inline-edit-theme();
    }

    &.kbq-inline-edit_edit {
        .kbq-inline-edit__label {
            margin-bottom: var(--kbq-size-3xs);
        }
    }

    .kbq-inline-edit__placeholder {
        color: var(--kbq-foreground-contrast-secondary);
    }
}

.kbq-inline-edit__overlay-anchor {
    display: flex;
    box-sizing: border-box;
    position: relative;
    height: var(--kbq-inline-edit-pop-up-height);
    width: 100%;

    .kbq-inline-edit__overlay-origin {
        position: absolute;
        top: 0;
        left: 0;
        height: 0;
        width: 100%;
    }
}

.kbq-inline-edit__panel {
    width: 100%;

    .kbq-inline-edit__action-buttons {
        position: relative;
        left: calc(-1 * var(--kbq-inline-edit-padding-horizontal));
        display: inline-flex;
        flex-direction: row;
        gap: var(--kbq-size-xxs);
        padding: var(--kbq-size-xxs) var(--kbq-size-s) var(--kbq-size-s);
    }
}
