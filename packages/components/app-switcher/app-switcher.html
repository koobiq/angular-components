@if (withSearch) {
    <div class="kbq-app-switcher__search-container">
        <kbq-form-field noBorders>
            <i kbq-icon="kbq-magnifying-glass_16" kbqPrefix></i>
            <input kbqInput placeholder="Поиск" [(ngModel)]="searchValue" />
            <kbq-cleaner />
        </kbq-form-field>
    </div>

    <kbq-divider />
}

<div class="kbq-app-switcher__app-container">
    <div class="kbq-app-switcher-group-header">
        <div class="kbq-app-switcher-group-header__text">Название площадки</div>
        <kbq-badge class="kbq-app-switcher-group-header__badge" [compact]="true">Главная</kbq-badge>
    </div>

    <kbq-app-switcher-tree [dataSource]="dataSource" [treeControl]="treeControl" [(ngModel)]="modelValue">
        <kbq-app-switcher-tree-option *kbqTreeNodeDef="let node" kbqAppSwitcherTreeNodePadding>
            <span [innerHTML]="treeControl.getViewValue(node)"></span>
        </kbq-app-switcher-tree-option>

        <kbq-app-switcher-tree-option *kbqTreeNodeDef="let node; when: hasChild" kbqAppSwitcherTreeNodePadding>
            <kbq-tree-node-toggle [node]="node" />

            <span [innerHTML]="treeControl.getViewValue(node)"></span>
        </kbq-app-switcher-tree-option>
    </kbq-app-switcher-tree>
</div>

@if (withSites) {
    <kbq-divider />

    <div class="kbq-app-switcher__sites-container">
        <div class="kbq-app-switcher-group-header">
            <div class="kbq-app-switcher-group-header__text">Другие площадки</div>
        </div>

        <kbq-dropdown #appDropdownWithNested="kbqDropdown">
            <div kbqDropdownStaticContent>
                <button kbq-dropdown-item>Search settings</button>

                <button kbq-dropdown-item [kbqDropdownTriggerFor]="appDropdownNested">Headers & footers</button>
                <button kbq-dropdown-item [kbqDropdownTriggerFor]="appDropdownNested">Page numbers</button>

                <kbq-divider />

                <button kbq-dropdown-item [kbqDropdownTriggerFor]="appDropdownNested">Table</button>

                <kbq-divider />

                <button kbq-dropdown-item [kbqDropdownTriggerFor]="appDropdownNested">Image</button>

                <kbq-divider />

                <button kbq-dropdown-item [kbqDropdownTriggerFor]="appDropdownNested">Clear formatting</button>

                <kbq-divider />

                <button kbq-dropdown-item [kbqDropdownTriggerFor]="appDropdownNested">Border & lines</button>
            </div>
        </kbq-dropdown>
    </div>
}

<kbq-dropdown #appDropdownNested="kbqDropdown">
    <button kbq-dropdown-item>Border and shading</button>

    <kbq-divider />

    <button kbq-dropdown-item>Normal text</button>
    <button kbq-dropdown-item>Title</button>
    <button kbq-dropdown-item>Subtitle</button>
    <button kbq-dropdown-item>Heading 1</button>
    <button kbq-dropdown-item>Heading 2</button>
    <button kbq-dropdown-item>Heading 3</button>
    <button kbq-dropdown-item>Heading 4</button>
    <button kbq-dropdown-item>Heading 5</button>
    <button kbq-dropdown-item>Heading 6</button>

    <kbq-divider />

    <button kbq-dropdown-item>Options</button>
</kbq-dropdown>
