@use '../core/styles/common/tokens' as *;

.kbq-tag-list {
    display: flex;
    flex-direction: row;
    min-height: var(--kbq-size-xxl);

    box-sizing: border-box;

    &:focus-visible {
        outline: none;
    }

    &.cdk-drop-list-dragging .cdk-drag {
        transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
    }
}

.kbq-tag-input {
    border: none;
    outline: none;
    background: transparent;

    text-overflow: ellipsis;

    min-height: unset;

    padding-top: var(--kbq-tag-size-padding-vertical);
    padding-bottom: var(--kbq-tag-size-padding-vertical);
    padding-left: 4px;
    padding-right: unset;

    &.kbq-input {
        padding: unset;
        min-height: unset;
    }
}

.kbq-tags-list__list-container {
    display: flex;
    flex-wrap: wrap;
    flex: 1 1 100%;

    box-sizing: border-box;

    min-width: 0;

    gap: var(--kbq-tag-list-size-content-gap);

    .kbq-tag-input {
        max-width: 100%;

        flex: 1 1 auto;

        // indicating tag list is empty
        &:first-child {
            padding-left: var(--kbq-size-s);
        }
    }
}

.kbq-tags-list__cleaner {
    & .kbq-cleaner {
        max-height: 24px;
    }
}

.kbq-form-field-type-tag-list {
    & .kbq-form-field__container {
        padding-top: kbq-difference-series-css-variables(
            [tag-input-size-padding-vertical,
            form-field-size-border-width]
        );
        padding-bottom: kbq-difference-series-css-variables(
            [tag-input-size-padding-vertical,
            form-field-size-border-width]
        );
    }
}

// We should apply `cursor: grabbing` to the body, not to the dragged element itself.
// Reason: https://github.com/angular/components/blob/18.2.14/src/cdk/drag-drop/resets.scss#L14-L15
body:has(.kbq-tag-list.cdk-drop-list-dragging) {
    cursor: grabbing;
}
