Tags Autocomplete используется для выбора одного или нескольких значений из списка и для ввода собственных значений.

При фокусе в поле открывается меню справочника. По мере ввода меняется автодополнение. Выбор опции из списка добавляет тег, очищает текст в поле и закрывает меню.

<!-- example(tag-autocomplete-overview) -->

### Добавление в справочник

На первом месте в меню автодополнения располагается опция создания нового тега. Она создаёт новый токен из введённого текста, если такого нет в словаре.

Добавление тега также работает по клавише `Tab`.

Создать копию выбранного тега нельзя: система покажет сообщение `Ничего не найдено`.

<!-- example(tag-autocomplete-option-operations) -->

### Удаление тегов

Порядок удаления тегов:

- Если есть выделенные теги, будут удалены они все.
- Если выделенных тегов нет, будет удалён тег в фокусе.

Теги можно удалить несколькими способами:

- Клик по иконке удаления (директива `kbqTagRemove`) внутри тега.
- Нажатие клавиши `Delete` или `Backspace`.
- Программное удаление через [API](/ru/components/tag/api) компонента.

Опция удаления настраивается при помощи атрибута `removable` (по умолчанию включена).

<!-- example(tag-autocomplete-removable) -->

### Выбор тегов

Теги можно выбрать несколькими способами:

- Клик по тегу при зажатом `Ctrl`.
- Нажатие комбинации клавиш `Ctrl+A`.
- `Space` при фокусе на теге.
- Программный выбор через [API](/ru/components/tag/api) компонента.

Опция выбора настраивается при помощи атрибута `selectable` (по умолчанию включена).

### Редактирование

Для включения режима редактирования необходимо установить свойство `editable` для `kbq-tag-list` или отдельного `kbq-tag`.

Вход в режим:

- При двойном клике по тегу.
- При нажатии клавиши `Enter` или `F2` (при фокусе на теге).

Сохранение изменений:

- При нажатии клавиши `Enter`.
- При нажатии на кнопку подтверждения (директива `kbqTagEditSubmit`).

Отмена изменений:

- При нажатии клавиши `Escape`.
- При потере фокуса.

В режиме редактирования тег превращается в поле ввода и остается на той же позиции внутри контрола.

<!-- example(tag-autocomplete-editable) -->

### Перестановка и сортировка

Для включения возможности перестановки тегов необходимо установить свойство `draggable` для `kbq-tag-list`.

<!-- example(tag-autocomplete-draggable) -->

### Навигация с клавиатуры

#### Фокус в пустой области ввода

| <div style="min-width: 200px;">Клавиша</div>                                                                                                                                                    | Действие                                                 |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- |
| <span class="docs-hot-key-button">Backspace</span> / <span class="docs-hot-key-button">←</span> / <span class="docs-hot-key-button">Shift</span> + <span class="docs-hot-key-button">Tab</span> | Переместить фокус на последний тег.                      |
| <span class="docs-hot-key-button">Ctrl</span> + <span class="docs-hot-key-button">A</span>                                                                                                      | Выделить все теги и поставить фокус на последний из них. |

#### Фокус на теге

| <div style="min-width: 200px;">Клавиша</div>                                                         | Действие                                       |
| ---------------------------------------------------------------------------------------------------- | ---------------------------------------------- |
| <span class="docs-hot-key-button">←</span> / <span class="docs-hot-key-button">→</span>              | Переместить фокус на предыдущий/следующий тег. |
| <span class="docs-hot-key-button">Space</span>                                                       | Выбрать/снять выбор тега.                      |
| <span class="docs-hot-key-button">Delete</span> / <span class="docs-hot-key-button">Backspace</span> | Удалить тег.                                   |
| <span class="docs-hot-key-button">F2</span> / <span class="docs-hot-key-button">Enter</span>         | Начать редактирование.                         |
| <span class="docs-hot-key-button">Ctrl</span> + <span class="docs-hot-key-button">A</span>           | Выделить все теги.                             |
| <span class="docs-hot-key-button">Home</span> / <span class="docs-hot-key-button">End</span>         | Переместить фокус на первый/последний тег.     |

#### Режим редактирования тега

| <div style="min-width: 200px;">Клавиша</div>   | Действие             |
| ---------------------------------------------- | -------------------- |
| <span class="docs-hot-key-button">Enter</span> | Сохранить изменения. |
| <span class="docs-hot-key-button">Esc</span>   | Отменить изменения.  |
