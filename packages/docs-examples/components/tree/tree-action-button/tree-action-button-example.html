<kbq-tree-selection
    [autoSelect]="false"
    [dataSource]="dataSource"
    [treeControl]="treeControl"
    [(ngModel)]="modelValue"
    (onSelectAll)="onSelectAll($event)"
>
    <kbq-tree-option
        *kbqTreeNodeDef="let node"
        kbqTreeNodePadding
        [disabled]="node.name === 'tests'"
    >
        <i kbq-icon="kbq-info-circle_16"></i>

        <span [innerHTML]="treeControl.getViewValue(node)"></span>

        <kbq-option-action
            [kbqDropdownTriggerFor]="dropdown"
            [kbqPlacement]="popUpPlacements.Right"
            [kbqTooltip]="'Tooltip text'"
        />
    </kbq-tree-option>

    <kbq-tree-option
        *kbqTreeNodeDef="let node; when: hasChild"
        kbqTreeNodePadding
    >
        <i kbq-icon="kbq-info-circle_16"></i>

        <kbq-tree-node-toggle [node]="node" />

        <span [innerHTML]="treeControl.getViewValue(node)"></span>

        <kbq-option-action
            [kbqDropdownTriggerFor]="dropdown"
            [kbqPlacement]="popUpPlacements.Right"
            [kbqTooltip]="'Tooltip text'"
        />
    </kbq-tree-option>
</kbq-tree-selection>

<kbq-dropdown #dropdown>
    <button kbq-dropdown-item>action 1</button>
    <button kbq-dropdown-item>action 2</button>
    <button kbq-dropdown-item>action 3</button>
</kbq-dropdown>
