<div style="width: 400px" class="layout-padding">
    <form
        novalidate
        class="kbq-form-horizontal"
        [class.validation-error]="compositeFormGroup.errors?.range"
        [formGroup]="compositeFormGroup"
    >
        <div class="kbq-form__fieldset">
            <div class="kbq-form__legend">Диапазоны IP-адресов</div>

            <div class="kbq-form__row">
                <label class="kbq-form__label flex-20">Начало диапазона</label>
                <kbq-form-field
                    #startTooltip="kbqWarningTooltip"
                    class="kbq-form__control"
                    [kbqEnterDelay]="10"
                    [kbqPlacement]="popUpPlacements.Top"
                    [kbqTrigger]="'manual'"
                    [kbqWarningTooltip]="'Только цифры'"
                >
                    <input formControlName="start" kbqInput (input)="onInput($event, startTooltip, 'start')" />

                    @if (compositeFormGroup.controls.start.invalid) {
                        <kbq-hint [color]="themePalette.Error">IP-адрес не соответствует стандартам RFC</kbq-hint>
                    }

                    <kbq-cleaner />
                </kbq-form-field>
            </div>

            <div class="kbq-form__row">
                <label class="kbq-form__label flex-20">Окончание</label>
                <kbq-form-field
                    #endTooltip="kbqWarningTooltip"
                    class="kbq-form__control"
                    [kbqEnterDelay]="10"
                    [kbqPlacement]="popUpPlacements.Top"
                    [kbqTrigger]="'manual'"
                    [kbqWarningTooltip]="'Только цифры и точки'"
                >
                    <input formControlName="end" kbqInput (input)="onInput($event, endTooltip, 'end')" />

                    @if (compositeFormGroup.controls.end.invalid) {
                        <kbq-hint [color]="themePalette.Error">IP-адрес не соответствует стандартам RFC</kbq-hint>
                    }

                    <kbq-cleaner />
                </kbq-form-field>
            </div>

            @if (compositeFormGroup.errors?.range) {
                <kbq-hint style="margin-top: 4px" [color]="themePalette.Error">
                    IP-адрес окончания диапазона должен быть больше, чем IP-адрес начала
                </kbq-hint>
            }
        </div>
    </form>
</div>
