<button kbq-button (click)="open(actionsPanel)">open</button>

<ng-template #actionsPanel let-actionsPanelRef="actionsPanelRef">
    <div class="example-custom-content">Selected: N</div>
    <kbq-divider class="example-divider-vertical" [vertical]="true" />

    <kbq-overflow-items>
        <button *kbqOverflowItem="actionID.Responsible" kbq-button [color]="color.Contrast">
            <i kbq-icon="kbq-user_16"></i>
            Responsible
        </button>
        <button *kbqOverflowItem="actionID.Status" kbq-button class="layout-margin-left-xxs" [color]="color.Contrast">
            <i kbq-icon="kbq-arrow-right-s_16"></i>
            Status
        </button>
        <button *kbqOverflowItem="actionID.Verdict" kbq-button class="layout-margin-left-xxs" [color]="color.Contrast">
            <i kbq-icon="kbq-question-circle_16"></i>
            Verdict
        </button>
        <ng-container *kbqOverflowItem="actionID.Incident">
            <kbq-divider class="example-divider-vertical" [vertical]="true" />
            <button kbq-button [color]="color.Contrast">
                <i kbq-icon="kbq-link_16"></i>
                Link to incident
            </button>
        </ng-container>
        <ng-container *kbqOverflowItem="actionID.Archive">
            <kbq-divider class="example-divider-vertical" [vertical]="true" />
            <button kbq-button [color]="color.Contrast" [kbqDropdownTriggerFor]="archiveDropdown">
                <i kbq-icon="kbq-box-archive-arrow-down_16"></i>
                Archive
                <i kbq-icon="kbq-chevron-down-s_16"></i>
            </button>
        </ng-container>
        <button *kbqOverflowItem="actionID.Remove" kbq-button class="layout-margin-left-xxs" [color]="color.Contrast">
            <i kbq-icon="kbq-trash_16"></i>
            Remove
        </button>

        <ng-template kbqOverflowItemsResult let-hiddenItemIDs>
            <button kbq-button [color]="color.Contrast" [kbqDropdownTriggerFor]="dropdown">
                <i kbq-icon="kbq-ellipsis-vertical_16"></i>
            </button>

            <kbq-dropdown #dropdown="kbqDropdown">
                @if (hiddenItemIDs.has(actionID.Responsible)) {
                    <button kbq-dropdown-item>
                        <i kbq-icon="kbq-user_16"></i>
                        Responsible
                    </button>
                }
                @if (hiddenItemIDs.has(actionID.Status)) {
                    <button kbq-dropdown-item>
                        <i kbq-icon="kbq-arrow-right-s_16"></i>
                        Status
                    </button>
                }
                @if (hiddenItemIDs.has(actionID.Verdict)) {
                    <button kbq-dropdown-item>
                        <i kbq-icon="kbq-question-circle_16"></i>
                        Verdict
                    </button>
                }
                @if (hiddenItemIDs.has(actionID.Verdict) && hiddenItemIDs.has(actionID.Incident)) {
                    <kbq-divider />
                }
                @if (hiddenItemIDs.has(actionID.Incident)) {
                    <button kbq-button>
                        <i kbq-icon="kbq-link_16"></i>
                        Link to incident
                    </button>
                }
                @if (hiddenItemIDs.has(actionID.Incident) && hiddenItemIDs.has(actionID.Archive)) {
                    <kbq-divider />
                }
                @if (hiddenItemIDs.has(actionID.Archive)) {
                    <button kbq-dropdown-item [kbqDropdownTriggerFor]="archiveDropdown">
                        <i kbq-icon="kbq-box-archive-arrow-down_16"></i>
                        Archive
                    </button>
                }
                @if (hiddenItemIDs.has(actionID.Remove)) {
                    <button kbq-dropdown-item>
                        <i kbq-icon="kbq-trash_16"></i>
                        Remove
                    </button>
                }
            </kbq-dropdown>
        </ng-template>
    </kbq-overflow-items>

    <kbq-divider class="example-divider-vertical" [vertical]="true" />
    <button kbq-button class="layout-margin-left-xxs" [color]="color.Contrast" (click)="actionsPanelRef.close()">
        <i kbq-icon="kbq-xmark-circle_16"></i>
    </button>

    <kbq-dropdown #archiveDropdown="kbqDropdown">
        <button kbq-dropdown-item>
            <i kbq-icon="kbq-box-archive-arrow-down_16"></i>
            Archive
        </button>
        <button kbq-dropdown-item>
            <i kbq-icon="kbq-undo_16"></i>
            Unarchive
        </button>
    </kbq-dropdown>
</ng-template>
