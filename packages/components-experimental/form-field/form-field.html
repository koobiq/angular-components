@if (hasLabel) {
    <label
        class="kbq-form-field__label"
        [attr.for]="control.id"
    >
        <ng-content select="kbq-label" />
    </label>
}

<div
    #connectionContainer
    class="kbq-form-field__container"
    (click)="onContainerClick($event)"
>
    @if (hasPrefix) {
        <div class="kbq-form-field__prefix">
            <ng-content select="[kbqPrefix]" />
        </div>
    }

    <div class="kbq-form-field__infix">
        <ng-content />
    </div>

    @if (shouldDisplayCleaner) {
        <div class="kbq-form-field__cleaner">
            <ng-content select="kbq-cleaner" />
        </div>
    } @else {
        @if (hasSuffix) {
            <div class="kbq-form-field__suffix">
                <ng-content select="[kbqSuffix]" />
            </div>
        }
    }

    @if (hasPasswordToggle) {
        <ng-content select="kbq-password-toggle" />
    }

    @if (canShowStepper) {
        <ng-content select="kbq-stepper" />
    }
</div>

@if (hasHint || hasPasswordHint || hasError) {
    <div class="kbq-form-field__hint">
        @if (shouldDisplayError) {
            <ng-content select="kbq-error" />
        }

        <ng-content select="kbq-hint, kbq-password-hint" />
    </div>
}
