@let isRuLocale = docsLocaleService.isRuLocale | async;

<div class="docs-live-example__container">
    @if (exampleData) {
        <div class="docs-live-example__example docs-live-example__example_{{ exampleId }}">
            @if (exampleComponentType) {
                <ng-template [ngComponentOutlet]="exampleComponentType" />
            }
        </div>
    }

    <div class="docs-live-example__footer">
        <span kbq-link pseudo (click)="toggleSourceView()" (keydown.enter)="toggleSourceView()">
            {{
                isSourceShown
                    ? isRuLocale
                        ? 'Скрыть пример кода'
                        : 'Hide example code'
                    : isRuLocale
                      ? 'Показать пример кода'
                      : 'Show example code'
            }}
        </span>

        <docs-stackblitz-button [exampleId]="exampleId" />
    </div>
</div>

@if (exampleData) {
    @if (isSourceShown) {
        <kbq-code-block [codeFiles]="files" [filled]="true" [lineNumbers]="true" />
    }
} @else {
    @if (isRuLocale) {
        <div>
            <p>К сожалению, пример кода для этого раздела не найден.</p>
            <p>
                Если вы хотите помочь в написании документации или у вас есть вопросы, пожалуйста,
                <a href="https://github.com/koobiq/angular-components/issues" target="_blank">создайте issue</a>
                в нашем репозитории на GitHub.
            </p>
        </div>
    } @else {
        <div>
            <p>Unfortunately, the code example for this section was not found.</p>
            <p>
                If you would like to contribute to the documentation or have any questions, please feel free to
                <a href="https://github.com/koobiq/angular-components/issues" target="_blank">open an issue</a>
                in our GitHub repository.
            </p>
        </div>
    }
}
