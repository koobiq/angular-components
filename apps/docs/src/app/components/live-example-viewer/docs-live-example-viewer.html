<div class="docs-live-example__container">
    @if (exampleData) {
        <div
            #exampleElement
            class="docs-live-example__example docs-live-example__example_{{ exampleId }}"
            [style.height.px]="exampleHeight()"
        >
            @if (exampleComponentType) {
                <ng-template [ngComponentOutlet]="exampleComponentType" />
            }
        </div>
    }

    <div class="docs-live-example__footer">
        <span kbq-link pseudo (click)="toggleSourceView()" (keydown.enter)="toggleSourceView()">
            {{
                isSourceShown
                    ? isRuLocale()
                        ? 'Скрыть пример кода'
                        : 'Hide example code'
                    : isRuLocale()
                      ? 'Показать пример кода'
                      : 'Show example code'
            }}
        </span>

        <div class="layout-row layout-align-center-center">
            <button
                kbq-button
                class="docs-live-example-footer__reload-button"
                [color]="'theme'"
                [kbqStyle]="'transparent'"
                [kbqTooltip]="isRuLocale() ? 'Сбросить состояние' : 'Reset state'"
                [kbqPlacement]="'bottom'"
                (click)="reload()"
            >
                <i kbq-icon="kbq-arrow-rotate-left_16"></i>
            </button>
            <kbq-divider class="docs-live-example-footer__divider" [vertical]="true" />
            <docs-stackblitz-button [exampleId]="exampleId" />
        </div>
    </div>
</div>

@if (exampleData) {
    @if (isSourceShown) {
        <kbq-code-block [codeFiles]="files" [filled]="true" [lineNumbers]="true" />
    }
} @else {
    @if (isRuLocale()) {
        <div>
            <p>К сожалению, пример кода для этого раздела не найден.</p>
            <p>
                Если вы хотите помочь в написании документации или у вас есть вопросы, пожалуйста,
                <a href="https://github.com/koobiq/angular-components/issues" target="_blank">создайте issue</a>
                в нашем репозитории на GitHub.
            </p>
        </div>
    } @else {
        <div>
            <p>Unfortunately, the code example for this section was not found.</p>
            <p>
                If you would like to contribute to the documentation or have any questions, please feel free to
                <a href="https://github.com/koobiq/angular-components/issues" target="_blank">open an issue</a>
                in our GitHub repository.
            </p>
        </div>
    }
}
