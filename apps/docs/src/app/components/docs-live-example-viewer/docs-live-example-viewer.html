<div class="docs-live-example__container">
    <div
        *ngIf="exampleData"
        class="docs-live-example__example"
    >
        <ng-template
            *ngIf="exampleComponentType && exampleModuleFactory"
            [ngComponentOutlet]="exampleComponentType"
            [ngComponentOutletNgModuleFactory]="exampleModuleFactory"
        />
    </div>

    <div class="docs-live-example__footer">
        <span
            kbq-link
            pseudo
            [ngSwitch]="isSourceShown"
            (click)="toggleSourceView()"
            (keydown.enter)="toggleSourceView()"
        >
            {{ isSourceShown ? 'Скрыть пример кода' : 'Показать пример кода' }}
        </span>

        <docs-stackblitz-button [exampleId]="exampleId" />
    </div>
</div>

<ng-container *ngIf="exampleData; else lostExample">
    <kbq-code-block
        *ngIf="isSourceShown"
        [codeFiles]="this.files"
        [codeFiles]="files"
        [filled]="true"
        [filled]="true"
        [lineNumbers]="true"
    />
</ng-container>

<ng-template #lostExample>
    <div class="kbq-alert kbq-alert_error kbq-alert_dismissible kbq-markdown">
        <span>
            Oops, this code example is lost... But you can help us find it! Just send a Pull Request to this repository:
            <a
                href="#"
                class="kbq-markdown__a"
            >
                Koobiq
            </a>
        </span>
    </div>
</ng-template>
